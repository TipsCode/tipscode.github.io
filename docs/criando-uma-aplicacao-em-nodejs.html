<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="utf-8">
    <meta name="generator" content="Created with Nullstack - https://nullstack.app" />
    <title>Criando uma aplicação em Nodejs - TipsCode</title>
    <meta property="og:image" content="https://tipscode.com.br/thumbnail-article/criando-app-nodejs.png">
    <meta property="og:description" content="Fala dev, tudo bem? Neste artigo vamos criar nossa primeira aplicação em Nodejs, então sem mais conversa bora coda?">
    <meta name="description" content="Fala dev, tudo bem? Neste artigo vamos criar nossa primeira aplicação em Nodejs, então sem mais conversa bora coda?">
    <meta property="og:title" content="Criando uma aplicação em Nodejs - TipsCode">
    <meta property="og:type" content="website">
    <meta property="og:site_name" content="TipsCode">
    <meta property="og:url" content="https://tipscode.com.br/criando-uma-aplicacao-em-nodejs">
    <link rel="canonical" href="https://tipscode.com.br/criando-uma-aplicacao-em-nodejs">
    <meta property="og:locale" content="pt-BR">
    <link rel="shortcut icon" href="/favicon-96x96.png" type="image/png">
    <link rel="icon" href="/favicon-96x96.png" type="image/png">
    <link rel="manifest" href="/manifest.json" integrity="">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="application-name" content="TipsCode">
    <meta name="apple-mobile-web-app-title" content="TipsCode">
    
    <meta name="msapplication-starturl" content="/">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="stylesheet" href="/nullstack/bbc498a4b48831429fa1bccbe8003a874907e0d6/client.css" integrity="" crossorigin="anonymous">
    
    <link rel="apple-touch-icon" sizes="180x180" href="/icon-180x180.png">
    <meta name="msapplication-TileColor" content="#D22365">
    <link href="https://fonts.gstatic.com" rel="preconnect"/><link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet"/>
  </head>
  <body>
    <div id="application"><main class="bg-tips-light"><div><!----><!----><script async src="https://www.googletagmanager.com/gtag/js?id=AW-641358523"></script><script async src="https://www.googletagmanager.com/gtag/js?id=UA-120538403-3"></script></div><!-- --><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><header class="fixed w-full bg-white top-0 left-0 z-50 h-20"><div class="max-w-screen-xl mx-auto px-4 flex justify-between items-center flex-wrap py-4"><div class="w-full sm:w-auto justify-between sm:justify-self-start sm:px-0 items-center flex"><a href="/"><img src="/tipscode-logo-1.svg" alt="TipsCode" width="155" height="44"/></a><span class="flex items-center sm:hidden"><svg height="20" class="text-tips-gray-dark text-opacity-60" viewBox="0 0 512 512"><!----><!----><rect x="10" y="10" width="492" height="90.4043" rx="17.383" stroke-width="20" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" fill="none"></rect><rect x="10" y="411.5957" width="492" height="90.4043" rx="17.383" stroke-width="20" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" fill="none"></rect><rect x="10" y="210.7979" width="492" height="90.4043" rx="17.383" stroke-width="20" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" fill="none"></rect></svg></span></div><nav class="flex items-center flex-wrap sm:px-0 mt-2 sm:mt-0 z-50 bg-white hidden sm:flex"><a href="/" class="w-full sm:w-auto text-tips-gray-dark border-b sm:border-0 border-gray-100 p-2 font-lg hover:text-tips-blue items-center flex"> Home <!--#--></a><a href="/artigos" class="w-full sm:w-auto text-tips-gray-dark border-b sm:border-0 border-gray-100 p-2 font-lg hover:text-tips-blue items-center flex"> Blog <!--#--></a><a href="/ebook-gratuito" class="w-full sm:w-auto text-tips-gray-dark border-b sm:border-0 border-gray-100 p-2 font-lg hover:text-tips-blue items-center flex"> E-book Gratuito <!--#--></a><a href="/mini-curso-gratuito" class="w-full sm:w-auto text-tips-gray-dark border-b sm:border-0 border-gray-100 p-2 font-lg hover:text-tips-blue items-center flex"> Mini-Curso Gratuito <!--#--></a></nav><div class="flex w-full sm:w-auto mt-4 sm:mt-0 hidden sm:flex"><a href="/curso-fullstack-turbo" class="bg-tips-blue text-white px-3 py-2 border border-tips-blue rounded hover:bg-white hover:text-tips-blue w-full sm:w-auto">Full-Stack Turbo<!--#--></a></div></div></header><div class="h-20"></div><div class="max-w-screen-xl mx-auto sm:m-auto sm:text-justify px-4 py-16"><article><h1 class="font-bold text-4xl text-left sm:text-left"> <!--#-->Criando uma aplicação em Nodejs<!--#--> <!--#--></h1><figure class="mt-10"><img width="1242" src="/thumbnail-article/criando-app-nodejs.png"/><ficaption><!----></ficaption></figure><div class="mt-10 prose max-w-none"><p>Fala dev, tudo bem? Neste artigo vamos criar nossa primeira <strong>aplicação em Nodejs,</strong> então sem mais conversa bora coda?</p>
<h3>Instalando o Nodejs e o Yarn</h3>
<p>Temos dois artigos aqui no site, onde ensino passo a passo a instalação do Nodejs e o Yarn, no artigo ensino instalar no Linux, caso você use o da uma pesquisada no Google é bem simples a instalação.</p>
<p><a href="/conhecendo-nodejs/">Instalando o NodeJS</a></p>
<p><a href="/instalando-nodejs-no-manjaro/">Instalando o Yarn</a></p>
<p>Agora vamos colocar a mão na massa. Siga os passos a baixo !!</p>
<ul>
<li>Passo 01: Crie um diretório [nome você escolhe];</li>
<li>Passo 02: Entre neste diretório que você criou;</li>
<li>Passo 03: Abra o terminal dentro do diretório;</li>
<li>Passo 04: Escreva o seguinte código:</li>
</ul>
<pre><code>yarn init <span class="token operator">-</span>y
</code></pre>
<p>Seu terminal deverá está parecido com esse:</p>
<p><img src="/uploads/2020/01/Terminal-01.png" alt=""></p>
<p><strong>aplicação em Nodejs,</strong></p>
<p>O comando <em>yarn init -y</em> cria um arquivo chamado <em>package.json</em>, vamos abrir o nosso editor de código, neste artigo estarei usando o <em>vccode</em>, mas fique a vontade para usa um de sua preferencia.</p>
<p><img src="/uploads/2020/01/visualcode-aberto.png" alt=""></p>
<p><strong>aplicação em Nodejs,</strong></p>
<p>O arquivo package.json contém algumas informações, tais como o nome da aplicação, a versão, o arquivo base e a licença, porém essas informações só serão utilizadas caso o nosso projeto fosse ser disponibilizado para terceiro, caso contrário não vamos fazer uso. O package.json tem é responsabilidade por gerenciar nossos módulos e dependências, ou seja, tudo que instalarmos de terceiros vai ficar neste arquivo..</p>
<h2>Instalando express</h2>
<p>O Express é um microframework do Nodejs, o Express vai nos dá algumas funcionalidades padrão e irá facilitar muito a nossa vida. Claro que o Express é bem mais complexo do que citei, caso você tenha interesse em estudar e aprender de forma 100% prática com projetos reais CLIQUE AQUI. Então vamos instalar o Express em nosso projeto com o seguinte comando.</p>
<pre><code>yarn add express
</code></pre>
<p><img src="/uploads/2020/01/package.jpg" alt=""></p>
<p><strong>aplicação em Nodejs</strong></p>
<p>Observe que o arquivo package.json foi alterado, agora temos um objeto com o nome “dependencies” e o nosso Express com o número da versão atual, isso é muito importante pois se outro programador pegar o nosso projeto ele não precisará o Express na mão, só é necessário executar o seguinte comando no terminal yarn e automaticamente todas as dependências serão instaladas.</p>
<h2>Arquivo Raiz</h2>
<p>Vamos criar nosso arquivo raiz, nele será escrito a base de toda a aplicação, então vamos criar o o nome &quot;index.js&quot; outro nome bastante utilizado é o &quot;app.js&quot; fica a sua escolha beleza, neste arquivo vamos escrever o seguinte código:</p>
<pre><code><span class="token keyword">const</span> express <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'express'</span><span class="token punctuation">)</span>

<span class="token keyword">const</span> server <span class="token operator">=</span> <span class="token function">express</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

server<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'/teste'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Estamos no caminho certo !!'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

server<span class="token punctuation">.</span><span class="token function">listen</span><span class="token punctuation">(</span><span class="token number">3000</span><span class="token punctuation">)</span>
</code></pre>
<p>Começamos importando o Express, a partir deste momento todas as funcionalidades que o Express expõe vai está presente na variável &quot;express&quot;. Agora vamos iniciar nosso servidor criando uma const &quot;server&quot; e instanciando o express. Para vermos isso funcionando precisamos criar nossa primeira rota, existem quatro tipos de métodos de rotas diferentes, são ele o get, post, put e o delete. Na linha 5 estamos falando o seguinte, oh quando a url /teste for chamada execute a função console.log() e exiba a mensagem no terminal. Vamos iniciar servidor, para fazer isso precisamos que ele escute alguma porta, então na linha 9 estamos mandando o servidor fica ouvindo a porta 3000, vamos testar, abra o terminal, e execute seguinte comando:</p>
<pre><code>node index<span class="token punctuation">.</span>js 
</code></pre>
<p>Abra navegador e digite na barra de endereço: <em><strong>https://localhost:3000/teste.</strong></em> Note que o navegador ficou carregando, isso está acontecendo porque ele está esperando alguma resposta do nosso servidor, se formos olhar no terminal, veremos que a mensagem que escrevemos na função <em>consolo.log()</em> está aparecendo. Para paramos a execução do servidor no terminal, pressionamos ás teclas ( ctrl + c ).</p>
<h3>Passando um retorno para o front-end</h3>
<pre><code><span class="token keyword">const</span> express <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'express'</span><span class="token punctuation">)</span>

<span class="token keyword">const</span> server <span class="token operator">=</span> <span class="token function">express</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

server<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'/teste'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token operator">=></span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> res<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string">'Hello world'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

server<span class="token punctuation">.</span><span class="token function">listen</span><span class="token punctuation">(</span><span class="token number">3000</span><span class="token punctuation">)</span>
</code></pre>
<p>Essa função que criamos depois do &quot;/teste&quot; ela possui dois parâmetros o &quot;req&quot; e o &quot;res&quot; o req representa todos os dados da nossa requisição, o usuário pode enviar vários parâmetros através do req são eles:</p>
<p>Query Params;</p>
<p>Route Params;</p>
<p>request body</p>
<p>Não vou entrar em detalhes neste artigo aqui sobre, caso você tenha interesse em se aprofunda em Nodejs te recomendo o nosso curso <a href="http://bit.ly/tipscode-curso-programador-full-stack-javascript" target="_blank" rel="noopener">Programador Full Stack JavaScript em 8 semanas!</a> la explicamos tudo com detalhes e exemplos, criando na prática aplicações reais usando o Nodejs. No parâmetro &quot;res&quot; vamos ter todas as informações que precisamos para retorna uma resposta para o meu front-end, então vamos retorna um simples texto usando a função send(). Para testar rode o seguinte comando no terminal:</p>
<pre><code>node index<span class="token punctuation">.</span>js
</code></pre>
<p>Abra o navegador e digite localhost:3000/teste</p>
<p><img src="/uploads/2020/01/Retorno-com-sucesso.png" alt=""></p>
<p><strong>aplicação em Nodejs,</strong></p>
<p>Uma API normalmente não retornar texto, e sim formatos como JSON ou XML, para enviamos um JSON por exemplo, vamos ao código:</p>
<pre><code><span class="token keyword">const</span> express <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'express'</span><span class="token punctuation">)</span>

<span class="token keyword">const</span> server <span class="token operator">=</span> <span class="token function">express</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

server<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'/teste'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token operator">=></span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> res<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span> <span class="token punctuation">{</span><span class="token literal-property property">message</span><span class="token operator">:</span> <span class="token string">'Hello World'</span> <span class="token punctuation">}</span> <span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

server<span class="token punctuation">.</span><span class="token function">listen</span><span class="token punctuation">(</span><span class="token number">3000</span><span class="token punctuation">)</span>
</code></pre>
<p>Faça o mesmo procedimento para executar o código e agora temos uma API retornando um json.</p>
<h3>Criando as rotas post, put e delete</h3>
<p>Para podemos testar esses métodos, vamos precisar de uma ferramente, neste artigo vou usar o <a href="https://insomnia.rest/download/" target="_blank" rel="noopener">Insomnia</a>, tem versão para Mac, Linux e Windows existe também o <a href="https://www.getpostman.com/" target="_blank" rel="noopener">postman</a>, fique a vontade na escolha.</p>
<p>Antes de criamos nossos métodos com o Insomnia, precisamos entender um pouco sobre como funciona os métodos e como podemos captura-los através da url, vamos a um exemplo. Vamos ao navegador e digitamos o seguinte: <a href="http://localhost:3000/teste?nome=Joao" target="_blank" rel="noopener">http://localhost:3000/teste?nome=Joao</a></p>
<p><img src="/uploads/2020/01/nenhum-retorno.png" alt=""></p>
<p><strong>aplicação em Nodejs,</strong></p>
<p>Não temos nenhum feedback visual, pelo menos por enquanto, mas digamos que queremos que o nome que digitamos na barra do navegador apareça no corpo da mensagem, vamos ao código:</p>
<pre><code><span class="token keyword">const</span> express <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'express'</span><span class="token punctuation">)</span>

<span class="token keyword">const</span> server <span class="token operator">=</span> <span class="token function">express</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

server<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'/teste'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token operator">=></span><span class="token punctuation">{</span>
    
    <span class="token keyword">const</span> nome <span class="token operator">=</span> req<span class="token punctuation">.</span>query<span class="token punctuation">.</span>nome

    <span class="token keyword">return</span> res<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span> <span class="token punctuation">{</span><span class="token literal-property property">message</span><span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Buscando o usuário </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>nome<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> </span><span class="token template-punctuation string">`</span></span><span class="token punctuation">}</span> <span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

server<span class="token punctuation">.</span><span class="token function">listen</span><span class="token punctuation">(</span><span class="token number">3000</span><span class="token punctuation">)</span>
</code></pre>
<p>Criamos uma const chamada &quot;nome&quot; onde essa variável receberá o req.query.nome, ou seja, então a variável nome irá receber o conteúdo que digitamos lá no navegador, e para mostrar esse nome, vou usar um recurso novo do JavaScript que é as templates string. Bom com essa alteração, podemos continuar nossa API, lembrando que temos um super treinamento onde passamos por cada detalhe do Nodejs para sabe mais <a href="http://bit.ly/tipscode-curso-programador-full-stack-javascript" target="_blank" rel="noopener">clique aqui</a>.</p>
<h3>Capturando um id pela url</h3>
<p>Abra seu navegador e digite <a href="https://localhost/teste/1" target="_blank" rel="noopener">https://localhost/teste/1</a></p>
<pre><code><span class="token keyword">const</span> express <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'express'</span><span class="token punctuation">)</span>

<span class="token keyword">const</span> server <span class="token operator">=</span> <span class="token function">express</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

server<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'/teste/:id'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token operator">=></span><span class="token punctuation">{</span>
    <span class="token keyword">const</span> id <span class="token operator">=</span> req<span class="token punctuation">.</span>params<span class="token punctuation">.</span>id

    <span class="token keyword">return</span> res<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span> <span class="token punctuation">{</span><span class="token literal-property property">message</span><span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Buscando o usuário </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>id<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span> <span class="token punctuation">}</span> <span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

server<span class="token punctuation">.</span><span class="token function">listen</span><span class="token punctuation">(</span><span class="token number">3000</span><span class="token punctuation">)</span>
</code></pre>
<p>Vamos fazer uma pequena alteração em nosso código para capturamos o nosso ID:</p>
<pre><code>server<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'/teste/:id'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token operator">=></span><span class="token punctuation">{</span>
    <span class="token keyword">const</span> id <span class="token operator">=</span> req<span class="token punctuation">.</span>params<span class="token punctuation">.</span>id

    <span class="token keyword">return</span> res<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span> <span class="token punctuation">{</span><span class="token literal-property property">message</span><span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Buscando o usuário </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>id<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span> <span class="token punctuation">}</span> <span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre>
<p>Com essa pequena alteração, conseguimos capturar o id especifico digitado na url do navegador. Agora vamos abrir nossa ferramente para realizamos nossos testes.</p>
<p><img src="/uploads/2020/01/Insomnia-1024x537.png" alt=""></p>
<p><strong>aplicação em Nodejs,</strong></p>
<h3>Criando Requisições</h3>
<p>Abra seu navegador e digite <a href="https://localhost/teste/1" target="_blank" rel="noopener">https://localhost/teste/1</a></p>
<p><img src="/uploads/2020/01/Insomnia-criando-rota.png" alt=""></p>
<p><img src="/uploads/2020/01/sucesso-insomnia.png" alt=""></p>
<p><strong>aplicação em Nodejs,</strong></p>
<h3>Melhorando nossa API</h3>
<pre><code><span class="token keyword">const</span> express <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'express'</span><span class="token punctuation">)</span>

<span class="token keyword">const</span> server <span class="token operator">=</span> <span class="token function">express</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token keyword">const</span> users <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'Tipscode'</span><span class="token punctuation">,</span> <span class="token string">'Dukeza'</span><span class="token punctuation">,</span> <span class="token string">'Tux'</span><span class="token punctuation">]</span>

server<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'/teste/:index'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token operator">=></span><span class="token punctuation">{</span>
    <span class="token keyword">const</span> <span class="token punctuation">{</span> index <span class="token punctuation">}</span> <span class="token operator">=</span> req<span class="token punctuation">.</span>params

    <span class="token keyword">return</span> res<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span>users<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

server<span class="token punctuation">.</span><span class="token function">listen</span><span class="token punctuation">(</span><span class="token number">3000</span><span class="token punctuation">)</span>
</code></pre>
<p>Precisamos salvar esses usuários em algum lugar da aplicação, como esse artigo não se propõe a mostrar nenhum banco de dados, não vamos utilizar dessa forma. O Nodejs quando é executado ele guarda em memoria todas as variáveis criadas no projeto, e o legal é que elas não são recriadas quando o usuário faz uma nova requisição, então vamos criar um array “users” para guarda esses usuários, em nosso parâmetro ao invés de receber o id vou pegamos o index que é a posição do usuário e no retorno, retornamos só users que é nosso array de acordo com a posição do index.</p>
<h3>Finalizando API</h3>
<p>CRUD - Create, Read, Update, Delete</p>
<p>Nossa aplicação está começando a ganha forma. Nesta parte, vamos escrever o GRUD na nossa aplicação, GRUD significa create, read, update e delete, não vou foca em explicar detalhadamente se não o artigo ficará muito grande, mas basicamente nossa API vai criar um usuário, listar, alterar e deleta esses usuários. Vamos ao código fazer essas modificações.</p>
<h3>Listando usuários</h3>
<pre><code><span class="token keyword">const</span> users <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'Tipscode'</span><span class="token punctuation">,</span> <span class="token string">'Dukeza'</span><span class="token punctuation">,</span> <span class="token string">'Tux'</span><span class="token punctuation">]</span>

server<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'/users'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token operator">=></span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> res<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span>users<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre>
<p>Criarmos uma rota, onde lista todos os usuários essa função não precisa receber parâmetros, apenas um json com todos os usuários que estiver em memória. Vamos abrir o Insomnia para testar a lista de usuários.</p>
<p><img src="/uploads/2020/01/Listando-usuários-1024x281.jpg" alt=""></p>
<h3>Criando usuário</h3>
<p>Vamos ao código</p>
<pre><code>server<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token string">'/users'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> <span class="token punctuation">{</span> name <span class="token punctuation">}</span> <span class="token operator">=</span> req<span class="token punctuation">.</span>body

    users<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span>

    <span class="token keyword">return</span> res<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span>users<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre>
<p>Criamos uma const “name” onde receberá o corpo da requisição, depois fazemos users.push(name) e o médoto push() adiciona ao array o elemento que passamos, neste caso o conteúdo da variável “nome” e por fim retornamos esse users. Salvamos e executamos o código com node index.js, agora vamos abrir o insommnia e criar as requisições para testamos nossa aplicação. Veja a figura abaixo.</p>
<p><img src="/uploads/2020/01/Método-post-1024x425.jpg" alt=""></p>
<p><strong>aplicação em Nodejs,</strong></p>
<p><img src="/uploads/2020/01/Erro-método-1024x301.jpg" alt=""></p>
<p><strong>aplicação em Nodejs,</strong></p>
<p>Veja que deu um erro, isso aconteceu por que o express tem várias formas de receber o corpo da requisição, uma delas é o json, vamos usar o json na maiorias das vezes, mas precisamos dizer isso ao express, oh express vamosa usar o formato json beleza, passando isso para o código escrevemos o seguinte:</p>
<pre><code>server<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>express<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre>
<p>Vamos testar novamente !!</p>
<p><img src="/uploads/2020/01/criar-e-lista-funcionando-1024x463.jpg" alt=""></p>
<p><strong>aplicação em Nodejs,</strong></p>
<p>Agora nossa aplicação está fazendo as duas operações básicas do GRUD, criando usuário e listando usuário, vamos agora editar esse usuário.</p>
<h3>Editando usuário</h3>
<p>Para fazer a alteração do usuário precisamos saber qual o usuário especifico para editar, então precisamos localizar esse usuário, para fazermos isso, precisamos percorrer o nosso array e identificar o usuário na posição do array. Vamos ao código!</p>
<pre><code>server<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">'/users/:index'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> <span class="token punctuation">{</span> index <span class="token punctuation">}</span> <span class="token operator">=</span> req<span class="token punctuation">.</span>params
    <span class="token keyword">const</span> <span class="token punctuation">{</span> name <span class="token punctuation">}</span> <span class="token operator">=</span> req<span class="token punctuation">.</span>body

    users<span class="token punctuation">[</span>index<span class="token punctuation">]</span> <span class="token operator">=</span> name

    <span class="token keyword">return</span> res<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span>users<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre>
<p>Primeiro vamos fazer uma alteração no parâmetro da função put(), /users/:index' esse trecho de código que dizer que tudo depois da /: conseguimos captura, depois criamos uma variável “index” e atribuímos o re.params, ou conteúdo do index lá da url será guardada na variável index que criamos, depois criamos outra variável com o nome “name” recebendo o req.body, ou seja, todo o corpo da requisição. Para finalizamos, setamos o array users na posição do índice que capturamos e atribuímos ao name, por fim retornarmos um json com o array users. Agora vamos testar usando a ferramente Insomnia.</p>
<p><img src="/uploads/2020/01/editando-usuário-1024x301.jpg" alt=""></p>
<p><strong>aplicação em Nodejs,</strong></p>
<h3>Deletando usuário</h3>
<pre><code>server<span class="token punctuation">.</span><span class="token function">delete</span><span class="token punctuation">(</span><span class="token string">'/users/:index'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> <span class="token punctuation">{</span> index <span class="token punctuation">}</span> <span class="token operator">=</span> req<span class="token punctuation">.</span>params

    users<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span>index<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre>
<p>Para deleta usamos o método delete(), precisamos também identificar qual usuário deletar, então vamos usar a mesma estratégia do editar, capturando o índice do array, e ai usamos o método splice() basicamente ele percorre todo o array, vai chegar no índice que passamos, ele deleta a posição a partir do elemento encontrado.</p>
<p><img src="/uploads/2020/01/Deletando-sucess-1024x564.jpg" alt=""></p>
<p><strong>aplicação em Nodejs,</strong></p>
<p>Nossa aplicação em NodeJS está pronta, estamos realizando as quatro tarefas básicas do CRUD são elas criar, listar, editar e deletar. Caso você queira clona o código, segue o link do repositório no GitHub <a href="https://github.com/alissonsuassuna/crud-nodejs" target="_blank" rel="noopener">clique aqui</a>.</p>
<p><a href="/programador-fullstack-8-semanas"><img src="/uploads/2020/01/banner-Porgramador-full-stack-Javascript-1024x1024.png" alt=""></a></p>
<h3>Se torne um desenvolvedor FULL STACK em apenas 8 SEMANAS</h3>
<p>O maior treinamento online de JAVASCRIPT voltado 100% para o MERCADO DE TRABALHO. Você vai aprender JavaScript, Lógica de Programação, HTML5, CSS3, Bulma, NodeJs, Express, React, Git, Github.</p>
<p><a href="/programador-fullstack-8-semanas">Quero Participar</a></p>
</div></article></div><sectino class="px-4 sm:max-w-screen-xl sm:mx-auto sm:items-center flex sm:justify-between mt-10"><div class="flex flex-wrap shadow rounded-lg w-full bg-gradient-to-r from-tips-blue to-purple-500 focus:from-pink-500 focus:to-yellow-500 p-8"><div class="flex flex-wrap flex-col sm:flex-row items-center"><figure class="w-full sm:w-1/2"><img src="/banner-img.png" alt="Estudante TipsCode" width="440" height="454"/></figure><div class="w-full md:w-1/2"><h2 class="text-tips-light text-lg md:text-3xl font-semibold mb-3 leading-relaxed traking-wide">Vagas abertas para o melhor curso de programção <!--#--><strong>Fullstack<!--#--></strong> do Brasil. Clique no botão abaixo para conhecer.<!--#--></h2><div class="mt-2"><a href="https://bit.ly/2YivXeS" class="inline-block text-center w-full sm:w-auto lg:mx-0 bg-tips-green text-white font-bold rounded mt-4 lg:mt-0 py-2 px-8 shadow focus:outline-none focus:shadow-outline transform transition hover:scale-105 duration-300 ease-in-out">Conhecer Treinamento<!--#--></a></div></div></div></div></sectino><footer class="flex flex-col items-center py-16 sm:flex-row sm:justify-around"><figure class="flex-col sm:flex sm:justify-start"><a href="/"><img src="./tipscode-logo-1.svg" class="m-auto sm:m-0 md:m-0 lg:m-0" alt="TipsCode" width="186" height="66" loading="lazy"/></a><p class="text-center sm:text-center w-full text-tips-dark text-opacity-80">Todos os direitos reservados - TipsCode<!--#--><strong class="text-center sm:text-left w-full block">CNPJ:41.562.138/0001-61<!--#--></strong></p></figure><div class="flex flex-wrap justify-center my-8 sm:my-0"><div><a href="https://nullstack.app" target="_blank" rel="noopener noreferrer" class="flex justify-center flex-wrap" title="Desenvolvido com Nullstack"><span class="w-full block text-center text-tips-dark text-opacity-80"> Desenvolvido com <!--#--></span><svg xmlns="http://www.w3.org/2000/svg" height="20" viewBox="0 0 511.5039 113.7368"><title> Nullstack <!--#--></title><path d="M13.2736,39.964H28.7009v9.8922a20.3919,20.3919,0,0,1,7.743-8.479,21.2792,21.2792,0,0,1,11.2172-3.0031q7.36,0,11.3349,4.1218t3.9745,11.6588a48.9655,48.9655,0,0,1-1.06,8.8913l-8.3025,42.8665H36.3556L44.187,65.7546a31.2306,31.2306,0,0,0,.5888-5.5939q0-7.6542-6.3593-7.6547a10.7348,10.7348,0,0,0-8.4791,4.3278q-3.5922,4.328-5.0639,12.0415l-7.1248,37.0372H.4961Z" transform="translate(-0.4961)" fill="#2d3748"></path><path d="M81.4691,107.62q-7.2426,0-11.2466-4.1807t-4.004-11.8943a46.3965,46.3965,0,0,1,1.001-8.6557L75.64,39.964H92.7746L85.0609,80.24a29.8175,29.8175,0,0,0-.5888,5.5938q0,7.6551,6.4771,7.6548A10.3547,10.3547,0,0,0,99.2811,89.19q3.4446-4.2978,4.9756-12.0709L111.44,39.964h17.1348l-12.7775,65.9485H100.37V96.138a18.7565,18.7565,0,0,1-7.4781,8.3908A21.4849,21.4849,0,0,1,81.4691,107.62Z" transform="translate(-0.4961)" fill="#2d3748"></path><path d="M150.2958,113.7368q-11.4821,0-16.7815-3.3563t-5.2995-10.5989a43.049,43.049,0,0,1,1.1188-8.3613l11.9532-56.6451H123.2687l2.532-13.2486h35.2118L146.2918,92.4213q-.1767.825-.3238,1.7371a10.5763,10.5763,0,0,0-.1473,1.6781q0,4.6521,8.2436,4.6517h16.3694l-2.65,13.2486Z" transform="translate(-0.4961)" fill="#d22365"></path><path d="M181.897,92.21q-11.4822,0-16.7816-3.3563T159.816,78.255a43.0455,43.0455,0,0,1,1.1187-8.3613l11.9532-56.6451H154.87L157.4018,0h35.2118L177.8929,70.8947q-.1765.8248-.3238,1.737a10.5766,10.5766,0,0,0-.1472,1.6782q0,4.6519,8.2435,4.6517h16.3694l-2.65,13.2486Z" transform="translate(-0.4961)" fill="#d22365"></path><path d="M228.3106,107.62a72.47,72.47,0,0,1-23.6119-4.1218l3.003-15.0739q10.5988,6.7717,21.6688,6.7715,6.4176,0,10.0983-2.2965a7.1387,7.1387,0,0,0,3.68-6.3593,4.4873,4.4873,0,0,0-1.8253-3.8273q-2.3556-1.884-9.5979-3.9452l-5.1817-1.4132q-13.8969-3.8271-13.8963-16.9582a18.9819,18.9819,0,0,1,8.0375-16.0455q8.0374-5.976,22.4637-5.9766a60.6829,60.6829,0,0,1,10.1573.8538,63.0434,63.0434,0,0,1,10.5105,2.797L260.8727,56.981a33.7,33.7,0,0,0-19.3724-6.3q-5.9478,0-9.3623,2.09a6.2659,6.2659,0,0,0-3.4152,5.5056,5.102,5.102,0,0,0,2.2375,4.2984q2.4731,1.7082,9.6568,3.7685l4.3573,1.2365q7.4775,2.12,10.9816,6.271t3.5035,10.805q0,10.7172-8.2436,16.84T228.3106,107.62Z" transform="translate(-0.4961)" fill="#2d3748"></path><path d="M297.9546,106.2069q-11.3055,0-16.6932-3.3857t-5.3878-10.57a47.7847,47.7847,0,0,1,1.06-8.3613l5.9472-30.6778H265.9813l2.532-13.2486h16.8993l3.5918-18.7247h17.2527L302.6063,39.964h22.5521l-2.532,13.2486h-22.552l-6.1827,31.6788A20.2915,20.2915,0,0,0,293.48,88.13a3.9534,3.9534,0,0,0,1.9431,3.68q1.9433,1.1482,6.2416,1.1482h13.2486l-2.532,13.2486Z" transform="translate(-0.4961)" fill="#2d3748"></path><path d="M338.2138,107.62q-9.4224,0-14.6029-5.1228-5.1828-5.1228-5.1816-14.25,0-12.2469,9.3034-18.99t26.2617-6.7421h11.3643l.4711-2.8852a3.6427,3.6427,0,0,1,.1177-.7066v-1.001A5.6271,5.6271,0,0,0,362.974,52.8q-2.9748-1.7666-8.5086-1.7665a41.5275,41.5275,0,0,0-10.8933,1.59,85.9338,85.9338,0,0,0-13.3074,5.0639l2.7675-14.7206a74.3941,74.3941,0,0,1,24.6129-4.5929q12.07,0,18.6363,4.6518,6.5643,4.652,6.5655,13.72a36.323,36.323,0,0,1-.4711,5.5939q-.4716,3.003-1.1188,5.9471l-7.2425,37.626H358.47v-7.36A26.3115,26.3115,0,0,1,338.2138,107.62Zm7.1837-11.8354q6.476,0,11.2466-5.6822t6.3-15.3978h-6.6537q-19.9029,0-19.9023,12.13a8.3352,8.3352,0,0,0,9.009,8.95Z" transform="translate(-0.4961)" fill="#2d3748"></path><path d="M415.1828,107.62q-13.72,0-21.1683-7.4192t-7.4486-21.4333a42.63,42.63,0,0,1,5.005-20.8444,36.7663,36.7663,0,0,1,13.9257-14.338,40.3978,40.3978,0,0,1,20.7562-5.2111A39.0215,39.0215,0,0,1,445.8607,43.32l-3.1208,15.78a22.7112,22.7112,0,0,0-16.075-6.7126,21.2393,21.2393,0,0,0-11.8059,3.2974A22.52,22.52,0,0,0,406.88,64.783a29.416,29.416,0,0,0-2.8853,13.278q0,8.0083,3.4741,11.7765T417.95,93.606q8.8324,0,19.3724-6.1238l-3.2974,16.2516A45.998,45.998,0,0,1,415.1828,107.62Z" transform="translate(-0.4961)" fill="#2d3748"></path><path d="M458.1224,14.2911H475.375l-8.95,46.0463L490.2134,39.964H512L482.2643,64.5769l18.43,41.3356H482.382L469.31,75.058l-6.83,5.6527-4.8284,25.2018H440.3987Z" transform="translate(-0.4961)" fill="#2d3748"></path></svg></a></div></div><ul><li class="inline-block ml-4"><a href="https://web.facebook.com/tipscodeoficial" title="tipscodeoficial" target="_blank" rel="noreferrer" class="text-tips-blue hover:text-tips-green"><svg width="24" height="24" fill="#F5F5FF" viewBox="0 0 24 24"><path d="M18 2H15C13.6739 2 12.4021 2.52678 11.4645 3.46447C10.5268 4.40215 10 5.67392 10 7V10H7V14H10V22H14V14H17L18 10H14V7C14 6.73478 14.1054 6.48043 14.2929 6.29289C14.4804 6.10536 14.7348 6 15 6H18V2Z" stroke="#2B293F" stroke-opacity="0.6" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path></svg></a></li><li class="inline-block ml-4"><a href="https://github.com/alissonsuassuna" title="alissonsuassuna" target="_blank" rel="noreferrer" class="text-tips-blue hover:text-tips-green"><svg width="24" height="24" fill="#F5F5FF" viewBox="0 0 24 24"><path d="M16 21.9999V18.1299C16.0375 17.6531 15.9731 17.1737 15.811 16.7237C15.6489 16.2737 15.3929 15.8634 15.06 15.5199C18.2 15.1699 21.5 13.9799 21.5 8.51994C21.4997 7.12376 20.9627 5.78114 20 4.76994C20.4559 3.54844 20.4236 2.19829 19.91 0.999938C19.91 0.999938 18.73 0.649938 16 2.47994C13.708 1.85876 11.292 1.85876 9 2.47994C6.27 0.649938 5.09 0.999938 5.09 0.999938C4.57638 2.19829 4.54414 3.54844 5 4.76994C4.03013 5.78864 3.49252 7.1434 3.5 8.54994C3.5 13.9699 6.8 15.1599 9.94 15.5499C9.611 15.8899 9.35726 16.2953 9.19531 16.7399C9.03335 17.1844 8.96681 17.658 9 18.1299V21.9999M9 18.9999C4 20.4999 4 16.4999 2 15.9999L9 18.9999Z" stroke="#2B293F" stroke-opacity="0.6" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path></svg></a></li><li class="inline-block ml-4"><a href="https://www.youtube.com/tipscode" title="tipscode" target="_blank" rel="noreferrer" class="text-tips-blue hover:text-tips-green"><svg width="24" height="24" viewBox="0 0 24 24" fill="#F5F5FF" xmlns="http://www.w3.org/2000/svg"><path d="M22.54 6.42C22.4212 5.94541 22.1792 5.51057 21.8386 5.15941C21.498 4.80824 21.0707 4.55318 20.6 4.42C18.88 4 12 4 12 4C12 4 5.11996 4 3.39996 4.46C2.92921 4.59318 2.50194 4.84824 2.16131 5.19941C1.82068 5.55057 1.57875 5.98541 1.45996 6.46C1.14518 8.20556 0.991197 9.97631 0.999961 11.75C0.988741 13.537 1.14273 15.3213 1.45996 17.08C1.59092 17.5398 1.83827 17.9581 2.17811 18.2945C2.51794 18.6308 2.93878 18.8738 3.39996 19C5.11996 19.46 12 19.46 12 19.46C12 19.46 18.88 19.46 20.6 19C21.0707 18.8668 21.498 18.6118 21.8386 18.2606C22.1792 17.9094 22.4212 17.4746 22.54 17C22.8523 15.2676 23.0063 13.5103 23 11.75C23.0112 9.96295 22.8572 8.1787 22.54 6.42V6.42Z" stroke="#2B293F" stroke-opacity="0.6" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path><path d="M9.75 15.02L15.5 11.75L9.75 8.47998V15.02Z" stroke="#2B293F" stroke-opacity="0.6" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path></svg></a></li><li class="inline-block ml-4"><a href="https://www.instagram.com/tipscodeoficial" title="tipscodeoficial" target="_blank" rel="noreferrer" class="text-tips-blue hover:text-tips-green"><svg width="24" height="24" viewBox="0 0 24 24" fill="#F5F5FF" xmlns="http://www.w3.org/2000/svg"><path d="M17 2H7C4.23858 2 2 4.23858 2 7V17C2 19.7614 4.23858 22 7 22H17C19.7614 22 22 19.7614 22 17V7C22 4.23858 19.7614 2 17 2Z" stroke="#2B293F" stroke-opacity="0.6" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path><path d="M16 11.3698C16.1234 12.2021 15.9812 13.052 15.5937 13.7988C15.2062 14.5456 14.5931 15.1512 13.8416 15.5295C13.0901 15.9077 12.2384 16.0394 11.4077 15.9057C10.5771 15.7721 9.80971 15.3799 9.21479 14.785C8.61987 14.1901 8.22768 13.4227 8.09402 12.592C7.96035 11.7614 8.09202 10.9097 8.47028 10.1582C8.84854 9.40667 9.45414 8.79355 10.2009 8.40605C10.9477 8.01856 11.7977 7.8764 12.63 7.99981C13.4789 8.1257 14.2648 8.52128 14.8716 9.12812C15.4785 9.73496 15.8741 10.5209 16 11.3698Z" stroke="#2B293F" stroke-opacity="0.6" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path><path d="M17.5 6.5H17.51" stroke="#2B293F" stroke-opacity="0.6" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path></svg></a></li><li class="inline-block ml-4"><a href="https://twitter.com/alissonsuassuna" title="alissonsuassuna" target="_blank" rel="noreferrer" class="text-tips-blue hover:text-tips-green"><svg width="24" height="24" fill="#F5F5FF" viewBox="0 0 24 24"><path d="M23 2.9998C22.0424 3.67528 20.9821 4.19191 19.86 4.5298C19.2577 3.83731 18.4573 3.34649 17.567 3.12373C16.6767 2.90096 15.7395 2.957 14.8821 3.28426C14.0247 3.61151 13.2884 4.1942 12.773 4.95352C12.2575 5.71283 11.9877 6.61214 12 7.5298V8.5298C10.2426 8.57537 8.50127 8.18561 6.93101 7.39525C5.36074 6.60488 4.01032 5.43844 3 3.9998C3 3.9998 -1 12.9998 8 16.9998C5.94053 18.3978 3.48716 19.0987 1 18.9998C10 23.9998 21 18.9998 21 7.4998C20.9991 7.22126 20.9723 6.9434 20.92 6.6698C21.9406 5.6633 22.6608 4.39251 23 2.9998V2.9998Z" stroke="#2B293F" stroke-opacity="0.6" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path></svg></a></li></ul></footer><span href="/curso-reactjs-pro"> <!--#--></span><span href="/obrigado-por-entrar-no-mini-curso"> <!--#--></span><span href="/aulas-do-mini-curso"> <!--#--></span><span href="/entrevista-com-aluno"> <!--#--></span></main></div>
    <script async>
      window.page = {"image":"/thumbnail-article/criando-app-nodejs.png","status":200,"locale":"pt-BR","title":"Criando uma aplicação em Nodejs - TipsCode","description":"Fala dev, tudo bem? Neste artigo vamos criar nossa primeira aplicação em Nodejs, então sem mais conversa bora coda?"};
      window.instances = {"application":{},"n-0-0-0-0":{},"n-0-0-0-1":{},"n-0-0-0-2":{},"n-0-0-0-3":{},"n-0-0-12/criando-uma-aplicacao-em-nodejs":{"slug":"criando-uma-aplicacao-em-nodejs","content":"<p>Fala dev, tudo bem? Neste artigo vamos criar nossa primeira <strong>aplicação em Nodejs,<\/strong> então sem mais conversa bora coda?<\/p>\n<h3>Instalando o Nodejs e o Yarn<\/h3>\n<p>Temos dois artigos aqui no site, onde ensino passo a passo a instalação do Nodejs e o Yarn, no artigo ensino instalar no Linux, caso você use o da uma pesquisada no Google é bem simples a instalação.<\/p>\n<p><a href=\"/conhecendo-nodejs/\">Instalando o NodeJS<\/a><\/p>\n<p><a href=\"/instalando-nodejs-no-manjaro/\">Instalando o Yarn<\/a><\/p>\n<p>Agora vamos colocar a mão na massa. Siga os passos a baixo !!<\/p>\n<ul>\n<li>Passo 01: Crie um diretório [nome você escolhe];<\/li>\n<li>Passo 02: Entre neste diretório que você criou;<\/li>\n<li>Passo 03: Abra o terminal dentro do diretório;<\/li>\n<li>Passo 04: Escreva o seguinte código:<\/li>\n<\/ul>\n<pre><code>yarn init <span class=\"token operator\">-<\/span>y\n<\/code><\/pre>\n<p>Seu terminal deverá está parecido com esse:<\/p>\n<p><img src=\"/uploads/2020/01/Terminal-01.png\" alt=\"\"><\/p>\n<p><strong>aplicação em Nodejs,<\/strong><\/p>\n<p>O comando <em>yarn init -y<\/em> cria um arquivo chamado <em>package.json<\/em>, vamos abrir o nosso editor de código, neste artigo estarei usando o <em>vccode<\/em>, mas fique a vontade para usa um de sua preferencia.<\/p>\n<p><img src=\"/uploads/2020/01/visualcode-aberto.png\" alt=\"\"><\/p>\n<p><strong>aplicação em Nodejs,<\/strong><\/p>\n<p>O arquivo package.json contém algumas informações, tais como o nome da aplicação, a versão, o arquivo base e a licença, porém essas informações só serão utilizadas caso o nosso projeto fosse ser disponibilizado para terceiro, caso contrário não vamos fazer uso. O package.json tem é responsabilidade por gerenciar nossos módulos e dependências, ou seja, tudo que instalarmos de terceiros vai ficar neste arquivo..<\/p>\n<h2>Instalando express<\/h2>\n<p>O Express é um microframework do Nodejs, o Express vai nos dá algumas funcionalidades padrão e irá facilitar muito a nossa vida. Claro que o Express é bem mais complexo do que citei, caso você tenha interesse em estudar e aprender de forma 100% prática com projetos reais CLIQUE AQUI. Então vamos instalar o Express em nosso projeto com o seguinte comando.<\/p>\n<pre><code>yarn add express\n<\/code><\/pre>\n<p><img src=\"/uploads/2020/01/package.jpg\" alt=\"\"><\/p>\n<p><strong>aplicação em Nodejs<\/strong><\/p>\n<p>Observe que o arquivo package.json foi alterado, agora temos um objeto com o nome “dependencies” e o nosso Express com o número da versão atual, isso é muito importante pois se outro programador pegar o nosso projeto ele não precisará o Express na mão, só é necessário executar o seguinte comando no terminal yarn e automaticamente todas as dependências serão instaladas.<\/p>\n<h2>Arquivo Raiz<\/h2>\n<p>Vamos criar nosso arquivo raiz, nele será escrito a base de toda a aplicação, então vamos criar o o nome &quot;index.js&quot; outro nome bastante utilizado é o &quot;app.js&quot; fica a sua escolha beleza, neste arquivo vamos escrever o seguinte código:<\/p>\n<pre><code><span class=\"token keyword\">const<\/span> express <span class=\"token operator\">=<\/span> <span class=\"token function\">require<\/span><span class=\"token punctuation\">(<\/span><span class=\"token string\">'express'<\/span><span class=\"token punctuation\">)<\/span>\n\n<span class=\"token keyword\">const<\/span> server <span class=\"token operator\">=<\/span> <span class=\"token function\">express<\/span><span class=\"token punctuation\">(<\/span><span class=\"token punctuation\">)<\/span>\n\nserver<span class=\"token punctuation\">.<\/span><span class=\"token function\">get<\/span><span class=\"token punctuation\">(<\/span><span class=\"token string\">'/teste'<\/span><span class=\"token punctuation\">,<\/span> <span class=\"token punctuation\">(<\/span><span class=\"token punctuation\">)<\/span> <span class=\"token operator\">=><\/span><span class=\"token punctuation\">{<\/span>\n    console<span class=\"token punctuation\">.<\/span><span class=\"token function\">log<\/span><span class=\"token punctuation\">(<\/span><span class=\"token string\">'Estamos no caminho certo !!'<\/span><span class=\"token punctuation\">)<\/span>\n<span class=\"token punctuation\">}<\/span><span class=\"token punctuation\">)<\/span>\n\nserver<span class=\"token punctuation\">.<\/span><span class=\"token function\">listen<\/span><span class=\"token punctuation\">(<\/span><span class=\"token number\">3000<\/span><span class=\"token punctuation\">)<\/span>\n<\/code><\/pre>\n<p>Começamos importando o Express, a partir deste momento todas as funcionalidades que o Express expõe vai está presente na variável &quot;express&quot;. Agora vamos iniciar nosso servidor criando uma const &quot;server&quot; e instanciando o express. Para vermos isso funcionando precisamos criar nossa primeira rota, existem quatro tipos de métodos de rotas diferentes, são ele o get, post, put e o delete. Na linha 5 estamos falando o seguinte, oh quando a url /teste for chamada execute a função console.log() e exiba a mensagem no terminal. Vamos iniciar servidor, para fazer isso precisamos que ele escute alguma porta, então na linha 9 estamos mandando o servidor fica ouvindo a porta 3000, vamos testar, abra o terminal, e execute seguinte comando:<\/p>\n<pre><code>node index<span class=\"token punctuation\">.<\/span>js \n<\/code><\/pre>\n<p>Abra navegador e digite na barra de endereço: <em><strong>https://localhost:3000/teste.<\/strong><\/em> Note que o navegador ficou carregando, isso está acontecendo porque ele está esperando alguma resposta do nosso servidor, se formos olhar no terminal, veremos que a mensagem que escrevemos na função <em>consolo.log()<\/em> está aparecendo. Para paramos a execução do servidor no terminal, pressionamos ás teclas ( ctrl + c ).<\/p>\n<h3>Passando um retorno para o front-end<\/h3>\n<pre><code><span class=\"token keyword\">const<\/span> express <span class=\"token operator\">=<\/span> <span class=\"token function\">require<\/span><span class=\"token punctuation\">(<\/span><span class=\"token string\">'express'<\/span><span class=\"token punctuation\">)<\/span>\n\n<span class=\"token keyword\">const<\/span> server <span class=\"token operator\">=<\/span> <span class=\"token function\">express<\/span><span class=\"token punctuation\">(<\/span><span class=\"token punctuation\">)<\/span>\n\nserver<span class=\"token punctuation\">.<\/span><span class=\"token function\">get<\/span><span class=\"token punctuation\">(<\/span><span class=\"token string\">'/teste'<\/span><span class=\"token punctuation\">,<\/span> <span class=\"token punctuation\">(<\/span><span class=\"token parameter\">req<span class=\"token punctuation\">,<\/span> res<\/span><span class=\"token punctuation\">)<\/span> <span class=\"token operator\">=><\/span><span class=\"token punctuation\">{<\/span>\n    <span class=\"token keyword\">return<\/span> res<span class=\"token punctuation\">.<\/span><span class=\"token function\">send<\/span><span class=\"token punctuation\">(<\/span><span class=\"token string\">'Hello world'<\/span><span class=\"token punctuation\">)<\/span>\n<span class=\"token punctuation\">}<\/span><span class=\"token punctuation\">)<\/span>\n\nserver<span class=\"token punctuation\">.<\/span><span class=\"token function\">listen<\/span><span class=\"token punctuation\">(<\/span><span class=\"token number\">3000<\/span><span class=\"token punctuation\">)<\/span>\n<\/code><\/pre>\n<p>Essa função que criamos depois do &quot;/teste&quot; ela possui dois parâmetros o &quot;req&quot; e o &quot;res&quot; o req representa todos os dados da nossa requisição, o usuário pode enviar vários parâmetros através do req são eles:<\/p>\n<p>Query Params;<\/p>\n<p>Route Params;<\/p>\n<p>request body<\/p>\n<p>Não vou entrar em detalhes neste artigo aqui sobre, caso você tenha interesse em se aprofunda em Nodejs te recomendo o nosso curso <a href=\"http://bit.ly/tipscode-curso-programador-full-stack-javascript\" target=\"_blank\" rel=\"noopener\">Programador Full Stack JavaScript em 8 semanas!<\/a> la explicamos tudo com detalhes e exemplos, criando na prática aplicações reais usando o Nodejs. No parâmetro &quot;res&quot; vamos ter todas as informações que precisamos para retorna uma resposta para o meu front-end, então vamos retorna um simples texto usando a função send(). Para testar rode o seguinte comando no terminal:<\/p>\n<pre><code>node index<span class=\"token punctuation\">.<\/span>js\n<\/code><\/pre>\n<p>Abra o navegador e digite localhost:3000/teste<\/p>\n<p><img src=\"/uploads/2020/01/Retorno-com-sucesso.png\" alt=\"\"><\/p>\n<p><strong>aplicação em Nodejs,<\/strong><\/p>\n<p>Uma API normalmente não retornar texto, e sim formatos como JSON ou XML, para enviamos um JSON por exemplo, vamos ao código:<\/p>\n<pre><code><span class=\"token keyword\">const<\/span> express <span class=\"token operator\">=<\/span> <span class=\"token function\">require<\/span><span class=\"token punctuation\">(<\/span><span class=\"token string\">'express'<\/span><span class=\"token punctuation\">)<\/span>\n\n<span class=\"token keyword\">const<\/span> server <span class=\"token operator\">=<\/span> <span class=\"token function\">express<\/span><span class=\"token punctuation\">(<\/span><span class=\"token punctuation\">)<\/span>\n\nserver<span class=\"token punctuation\">.<\/span><span class=\"token function\">get<\/span><span class=\"token punctuation\">(<\/span><span class=\"token string\">'/teste'<\/span><span class=\"token punctuation\">,<\/span> <span class=\"token punctuation\">(<\/span><span class=\"token parameter\">req<span class=\"token punctuation\">,<\/span> res<\/span><span class=\"token punctuation\">)<\/span> <span class=\"token operator\">=><\/span><span class=\"token punctuation\">{<\/span>\n    <span class=\"token keyword\">return<\/span> res<span class=\"token punctuation\">.<\/span><span class=\"token function\">json<\/span><span class=\"token punctuation\">(<\/span> <span class=\"token punctuation\">{<\/span><span class=\"token literal-property property\">message<\/span><span class=\"token operator\">:<\/span> <span class=\"token string\">'Hello World'<\/span> <span class=\"token punctuation\">}<\/span> <span class=\"token punctuation\">)<\/span>\n<span class=\"token punctuation\">}<\/span><span class=\"token punctuation\">)<\/span>\n\nserver<span class=\"token punctuation\">.<\/span><span class=\"token function\">listen<\/span><span class=\"token punctuation\">(<\/span><span class=\"token number\">3000<\/span><span class=\"token punctuation\">)<\/span>\n<\/code><\/pre>\n<p>Faça o mesmo procedimento para executar o código e agora temos uma API retornando um json.<\/p>\n<h3>Criando as rotas post, put e delete<\/h3>\n<p>Para podemos testar esses métodos, vamos precisar de uma ferramente, neste artigo vou usar o <a href=\"https://insomnia.rest/download/\" target=\"_blank\" rel=\"noopener\">Insomnia<\/a>, tem versão para Mac, Linux e Windows existe também o <a href=\"https://www.getpostman.com/\" target=\"_blank\" rel=\"noopener\">postman<\/a>, fique a vontade na escolha.<\/p>\n<p>Antes de criamos nossos métodos com o Insomnia, precisamos entender um pouco sobre como funciona os métodos e como podemos captura-los através da url, vamos a um exemplo. Vamos ao navegador e digitamos o seguinte: <a href=\"http://localhost:3000/teste?nome=Joao\" target=\"_blank\" rel=\"noopener\">http://localhost:3000/teste?nome=Joao<\/a><\/p>\n<p><img src=\"/uploads/2020/01/nenhum-retorno.png\" alt=\"\"><\/p>\n<p><strong>aplicação em Nodejs,<\/strong><\/p>\n<p>Não temos nenhum feedback visual, pelo menos por enquanto, mas digamos que queremos que o nome que digitamos na barra do navegador apareça no corpo da mensagem, vamos ao código:<\/p>\n<pre><code><span class=\"token keyword\">const<\/span> express <span class=\"token operator\">=<\/span> <span class=\"token function\">require<\/span><span class=\"token punctuation\">(<\/span><span class=\"token string\">'express'<\/span><span class=\"token punctuation\">)<\/span>\n\n<span class=\"token keyword\">const<\/span> server <span class=\"token operator\">=<\/span> <span class=\"token function\">express<\/span><span class=\"token punctuation\">(<\/span><span class=\"token punctuation\">)<\/span>\n\nserver<span class=\"token punctuation\">.<\/span><span class=\"token function\">get<\/span><span class=\"token punctuation\">(<\/span><span class=\"token string\">'/teste'<\/span><span class=\"token punctuation\">,<\/span> <span class=\"token punctuation\">(<\/span><span class=\"token parameter\">req<span class=\"token punctuation\">,<\/span> res<\/span><span class=\"token punctuation\">)<\/span> <span class=\"token operator\">=><\/span><span class=\"token punctuation\">{<\/span>\n    \n    <span class=\"token keyword\">const<\/span> nome <span class=\"token operator\">=<\/span> req<span class=\"token punctuation\">.<\/span>query<span class=\"token punctuation\">.<\/span>nome\n\n    <span class=\"token keyword\">return<\/span> res<span class=\"token punctuation\">.<\/span><span class=\"token function\">json<\/span><span class=\"token punctuation\">(<\/span> <span class=\"token punctuation\">{<\/span><span class=\"token literal-property property\">message<\/span><span class=\"token operator\">:<\/span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`<\/span><span class=\"token string\">Buscando o usuário <\/span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${<\/span>nome<span class=\"token interpolation-punctuation punctuation\">}<\/span><\/span><span class=\"token string\"> <\/span><span class=\"token template-punctuation string\">`<\/span><\/span><span class=\"token punctuation\">}<\/span> <span class=\"token punctuation\">)<\/span>\n<span class=\"token punctuation\">}<\/span><span class=\"token punctuation\">)<\/span>\n\nserver<span class=\"token punctuation\">.<\/span><span class=\"token function\">listen<\/span><span class=\"token punctuation\">(<\/span><span class=\"token number\">3000<\/span><span class=\"token punctuation\">)<\/span>\n<\/code><\/pre>\n<p>Criamos uma const chamada &quot;nome&quot; onde essa variável receberá o req.query.nome, ou seja, então a variável nome irá receber o conteúdo que digitamos lá no navegador, e para mostrar esse nome, vou usar um recurso novo do JavaScript que é as templates string. Bom com essa alteração, podemos continuar nossa API, lembrando que temos um super treinamento onde passamos por cada detalhe do Nodejs para sabe mais <a href=\"http://bit.ly/tipscode-curso-programador-full-stack-javascript\" target=\"_blank\" rel=\"noopener\">clique aqui<\/a>.<\/p>\n<h3>Capturando um id pela url<\/h3>\n<p>Abra seu navegador e digite <a href=\"https://localhost/teste/1\" target=\"_blank\" rel=\"noopener\">https://localhost/teste/1<\/a><\/p>\n<pre><code><span class=\"token keyword\">const<\/span> express <span class=\"token operator\">=<\/span> <span class=\"token function\">require<\/span><span class=\"token punctuation\">(<\/span><span class=\"token string\">'express'<\/span><span class=\"token punctuation\">)<\/span>\n\n<span class=\"token keyword\">const<\/span> server <span class=\"token operator\">=<\/span> <span class=\"token function\">express<\/span><span class=\"token punctuation\">(<\/span><span class=\"token punctuation\">)<\/span>\n\nserver<span class=\"token punctuation\">.<\/span><span class=\"token function\">get<\/span><span class=\"token punctuation\">(<\/span><span class=\"token string\">'/teste/:id'<\/span><span class=\"token punctuation\">,<\/span> <span class=\"token punctuation\">(<\/span><span class=\"token parameter\">req<span class=\"token punctuation\">,<\/span> res<\/span><span class=\"token punctuation\">)<\/span> <span class=\"token operator\">=><\/span><span class=\"token punctuation\">{<\/span>\n    <span class=\"token keyword\">const<\/span> id <span class=\"token operator\">=<\/span> req<span class=\"token punctuation\">.<\/span>params<span class=\"token punctuation\">.<\/span>id\n\n    <span class=\"token keyword\">return<\/span> res<span class=\"token punctuation\">.<\/span><span class=\"token function\">json<\/span><span class=\"token punctuation\">(<\/span> <span class=\"token punctuation\">{<\/span><span class=\"token literal-property property\">message<\/span><span class=\"token operator\">:<\/span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`<\/span><span class=\"token string\">Buscando o usuário <\/span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${<\/span>id<span class=\"token interpolation-punctuation punctuation\">}<\/span><\/span><span class=\"token template-punctuation string\">`<\/span><\/span> <span class=\"token punctuation\">}<\/span> <span class=\"token punctuation\">)<\/span>\n<span class=\"token punctuation\">}<\/span><span class=\"token punctuation\">)<\/span>\n\nserver<span class=\"token punctuation\">.<\/span><span class=\"token function\">listen<\/span><span class=\"token punctuation\">(<\/span><span class=\"token number\">3000<\/span><span class=\"token punctuation\">)<\/span>\n<\/code><\/pre>\n<p>Vamos fazer uma pequena alteração em nosso código para capturamos o nosso ID:<\/p>\n<pre><code>server<span class=\"token punctuation\">.<\/span><span class=\"token function\">get<\/span><span class=\"token punctuation\">(<\/span><span class=\"token string\">'/teste/:id'<\/span><span class=\"token punctuation\">,<\/span> <span class=\"token punctuation\">(<\/span><span class=\"token parameter\">req<span class=\"token punctuation\">,<\/span> res<\/span><span class=\"token punctuation\">)<\/span> <span class=\"token operator\">=><\/span><span class=\"token punctuation\">{<\/span>\n    <span class=\"token keyword\">const<\/span> id <span class=\"token operator\">=<\/span> req<span class=\"token punctuation\">.<\/span>params<span class=\"token punctuation\">.<\/span>id\n\n    <span class=\"token keyword\">return<\/span> res<span class=\"token punctuation\">.<\/span><span class=\"token function\">json<\/span><span class=\"token punctuation\">(<\/span> <span class=\"token punctuation\">{<\/span><span class=\"token literal-property property\">message<\/span><span class=\"token operator\">:<\/span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`<\/span><span class=\"token string\">Buscando o usuário <\/span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${<\/span>id<span class=\"token interpolation-punctuation punctuation\">}<\/span><\/span><span class=\"token template-punctuation string\">`<\/span><\/span> <span class=\"token punctuation\">}<\/span> <span class=\"token punctuation\">)<\/span>\n<span class=\"token punctuation\">}<\/span><span class=\"token punctuation\">)<\/span>\n<\/code><\/pre>\n<p>Com essa pequena alteração, conseguimos capturar o id especifico digitado na url do navegador. Agora vamos abrir nossa ferramente para realizamos nossos testes.<\/p>\n<p><img src=\"/uploads/2020/01/Insomnia-1024x537.png\" alt=\"\"><\/p>\n<p><strong>aplicação em Nodejs,<\/strong><\/p>\n<h3>Criando Requisições<\/h3>\n<p>Abra seu navegador e digite <a href=\"https://localhost/teste/1\" target=\"_blank\" rel=\"noopener\">https://localhost/teste/1<\/a><\/p>\n<p><img src=\"/uploads/2020/01/Insomnia-criando-rota.png\" alt=\"\"><\/p>\n<p><img src=\"/uploads/2020/01/sucesso-insomnia.png\" alt=\"\"><\/p>\n<p><strong>aplicação em Nodejs,<\/strong><\/p>\n<h3>Melhorando nossa API<\/h3>\n<pre><code><span class=\"token keyword\">const<\/span> express <span class=\"token operator\">=<\/span> <span class=\"token function\">require<\/span><span class=\"token punctuation\">(<\/span><span class=\"token string\">'express'<\/span><span class=\"token punctuation\">)<\/span>\n\n<span class=\"token keyword\">const<\/span> server <span class=\"token operator\">=<\/span> <span class=\"token function\">express<\/span><span class=\"token punctuation\">(<\/span><span class=\"token punctuation\">)<\/span>\n\n<span class=\"token keyword\">const<\/span> users <span class=\"token operator\">=<\/span> <span class=\"token punctuation\">[<\/span><span class=\"token string\">'Tipscode'<\/span><span class=\"token punctuation\">,<\/span> <span class=\"token string\">'Dukeza'<\/span><span class=\"token punctuation\">,<\/span> <span class=\"token string\">'Tux'<\/span><span class=\"token punctuation\">]<\/span>\n\nserver<span class=\"token punctuation\">.<\/span><span class=\"token function\">get<\/span><span class=\"token punctuation\">(<\/span><span class=\"token string\">'/teste/:index'<\/span><span class=\"token punctuation\">,<\/span> <span class=\"token punctuation\">(<\/span><span class=\"token parameter\">req<span class=\"token punctuation\">,<\/span> res<\/span><span class=\"token punctuation\">)<\/span> <span class=\"token operator\">=><\/span><span class=\"token punctuation\">{<\/span>\n    <span class=\"token keyword\">const<\/span> <span class=\"token punctuation\">{<\/span> index <span class=\"token punctuation\">}<\/span> <span class=\"token operator\">=<\/span> req<span class=\"token punctuation\">.<\/span>params\n\n    <span class=\"token keyword\">return<\/span> res<span class=\"token punctuation\">.<\/span><span class=\"token function\">json<\/span><span class=\"token punctuation\">(<\/span>users<span class=\"token punctuation\">[<\/span>index<span class=\"token punctuation\">]<\/span><span class=\"token punctuation\">)<\/span>\n<span class=\"token punctuation\">}<\/span><span class=\"token punctuation\">)<\/span>\n\nserver<span class=\"token punctuation\">.<\/span><span class=\"token function\">listen<\/span><span class=\"token punctuation\">(<\/span><span class=\"token number\">3000<\/span><span class=\"token punctuation\">)<\/span>\n<\/code><\/pre>\n<p>Precisamos salvar esses usuários em algum lugar da aplicação, como esse artigo não se propõe a mostrar nenhum banco de dados, não vamos utilizar dessa forma. O Nodejs quando é executado ele guarda em memoria todas as variáveis criadas no projeto, e o legal é que elas não são recriadas quando o usuário faz uma nova requisição, então vamos criar um array “users” para guarda esses usuários, em nosso parâmetro ao invés de receber o id vou pegamos o index que é a posição do usuário e no retorno, retornamos só users que é nosso array de acordo com a posição do index.<\/p>\n<h3>Finalizando API<\/h3>\n<p>CRUD - Create, Read, Update, Delete<\/p>\n<p>Nossa aplicação está começando a ganha forma. Nesta parte, vamos escrever o GRUD na nossa aplicação, GRUD significa create, read, update e delete, não vou foca em explicar detalhadamente se não o artigo ficará muito grande, mas basicamente nossa API vai criar um usuário, listar, alterar e deleta esses usuários. Vamos ao código fazer essas modificações.<\/p>\n<h3>Listando usuários<\/h3>\n<pre><code><span class=\"token keyword\">const<\/span> users <span class=\"token operator\">=<\/span> <span class=\"token punctuation\">[<\/span><span class=\"token string\">'Tipscode'<\/span><span class=\"token punctuation\">,<\/span> <span class=\"token string\">'Dukeza'<\/span><span class=\"token punctuation\">,<\/span> <span class=\"token string\">'Tux'<\/span><span class=\"token punctuation\">]<\/span>\n\nserver<span class=\"token punctuation\">.<\/span><span class=\"token function\">get<\/span><span class=\"token punctuation\">(<\/span><span class=\"token string\">'/users'<\/span><span class=\"token punctuation\">,<\/span> <span class=\"token punctuation\">(<\/span><span class=\"token parameter\">req<span class=\"token punctuation\">,<\/span> res<\/span><span class=\"token punctuation\">)<\/span> <span class=\"token operator\">=><\/span><span class=\"token punctuation\">{<\/span>\n    <span class=\"token keyword\">return<\/span> res<span class=\"token punctuation\">.<\/span><span class=\"token function\">json<\/span><span class=\"token punctuation\">(<\/span>users<span class=\"token punctuation\">)<\/span>\n<span class=\"token punctuation\">}<\/span><span class=\"token punctuation\">)<\/span>\n<\/code><\/pre>\n<p>Criarmos uma rota, onde lista todos os usuários essa função não precisa receber parâmetros, apenas um json com todos os usuários que estiver em memória. Vamos abrir o Insomnia para testar a lista de usuários.<\/p>\n<p><img src=\"/uploads/2020/01/Listando-usuários-1024x281.jpg\" alt=\"\"><\/p>\n<h3>Criando usuário<\/h3>\n<p>Vamos ao código<\/p>\n<pre><code>server<span class=\"token punctuation\">.<\/span><span class=\"token function\">post<\/span><span class=\"token punctuation\">(<\/span><span class=\"token string\">'/users'<\/span><span class=\"token punctuation\">,<\/span> <span class=\"token punctuation\">(<\/span><span class=\"token parameter\">req<span class=\"token punctuation\">,<\/span> res<\/span><span class=\"token punctuation\">)<\/span> <span class=\"token operator\">=><\/span> <span class=\"token punctuation\">{<\/span>\n    <span class=\"token keyword\">const<\/span> <span class=\"token punctuation\">{<\/span> name <span class=\"token punctuation\">}<\/span> <span class=\"token operator\">=<\/span> req<span class=\"token punctuation\">.<\/span>body\n\n    users<span class=\"token punctuation\">.<\/span><span class=\"token function\">push<\/span><span class=\"token punctuation\">(<\/span>name<span class=\"token punctuation\">)<\/span>\n\n    <span class=\"token keyword\">return<\/span> res<span class=\"token punctuation\">.<\/span><span class=\"token function\">json<\/span><span class=\"token punctuation\">(<\/span>users<span class=\"token punctuation\">)<\/span>\n<span class=\"token punctuation\">}<\/span><span class=\"token punctuation\">)<\/span>\n<\/code><\/pre>\n<p>Criamos uma const “name” onde receberá o corpo da requisição, depois fazemos users.push(name) e o médoto push() adiciona ao array o elemento que passamos, neste caso o conteúdo da variável “nome” e por fim retornamos esse users. Salvamos e executamos o código com node index.js, agora vamos abrir o insommnia e criar as requisições para testamos nossa aplicação. Veja a figura abaixo.<\/p>\n<p><img src=\"/uploads/2020/01/Método-post-1024x425.jpg\" alt=\"\"><\/p>\n<p><strong>aplicação em Nodejs,<\/strong><\/p>\n<p><img src=\"/uploads/2020/01/Erro-método-1024x301.jpg\" alt=\"\"><\/p>\n<p><strong>aplicação em Nodejs,<\/strong><\/p>\n<p>Veja que deu um erro, isso aconteceu por que o express tem várias formas de receber o corpo da requisição, uma delas é o json, vamos usar o json na maiorias das vezes, mas precisamos dizer isso ao express, oh express vamosa usar o formato json beleza, passando isso para o código escrevemos o seguinte:<\/p>\n<pre><code>server<span class=\"token punctuation\">.<\/span><span class=\"token function\">use<\/span><span class=\"token punctuation\">(<\/span>express<span class=\"token punctuation\">.<\/span><span class=\"token function\">json<\/span><span class=\"token punctuation\">(<\/span><span class=\"token punctuation\">)<\/span><span class=\"token punctuation\">)<\/span>\n<\/code><\/pre>\n<p>Vamos testar novamente !!<\/p>\n<p><img src=\"/uploads/2020/01/criar-e-lista-funcionando-1024x463.jpg\" alt=\"\"><\/p>\n<p><strong>aplicação em Nodejs,<\/strong><\/p>\n<p>Agora nossa aplicação está fazendo as duas operações básicas do GRUD, criando usuário e listando usuário, vamos agora editar esse usuário.<\/p>\n<h3>Editando usuário<\/h3>\n<p>Para fazer a alteração do usuário precisamos saber qual o usuário especifico para editar, então precisamos localizar esse usuário, para fazermos isso, precisamos percorrer o nosso array e identificar o usuário na posição do array. Vamos ao código!<\/p>\n<pre><code>server<span class=\"token punctuation\">.<\/span><span class=\"token function\">put<\/span><span class=\"token punctuation\">(<\/span><span class=\"token string\">'/users/:index'<\/span><span class=\"token punctuation\">,<\/span> <span class=\"token punctuation\">(<\/span><span class=\"token parameter\">req<span class=\"token punctuation\">,<\/span> res<\/span><span class=\"token punctuation\">)<\/span> <span class=\"token operator\">=><\/span> <span class=\"token punctuation\">{<\/span>\n    <span class=\"token keyword\">const<\/span> <span class=\"token punctuation\">{<\/span> index <span class=\"token punctuation\">}<\/span> <span class=\"token operator\">=<\/span> req<span class=\"token punctuation\">.<\/span>params\n    <span class=\"token keyword\">const<\/span> <span class=\"token punctuation\">{<\/span> name <span class=\"token punctuation\">}<\/span> <span class=\"token operator\">=<\/span> req<span class=\"token punctuation\">.<\/span>body\n\n    users<span class=\"token punctuation\">[<\/span>index<span class=\"token punctuation\">]<\/span> <span class=\"token operator\">=<\/span> name\n\n    <span class=\"token keyword\">return<\/span> res<span class=\"token punctuation\">.<\/span><span class=\"token function\">json<\/span><span class=\"token punctuation\">(<\/span>users<span class=\"token punctuation\">)<\/span>\n<span class=\"token punctuation\">}<\/span><span class=\"token punctuation\">)<\/span>\n<\/code><\/pre>\n<p>Primeiro vamos fazer uma alteração no parâmetro da função put(), /users/:index' esse trecho de código que dizer que tudo depois da /: conseguimos captura, depois criamos uma variável “index” e atribuímos o re.params, ou conteúdo do index lá da url será guardada na variável index que criamos, depois criamos outra variável com o nome “name” recebendo o req.body, ou seja, todo o corpo da requisição. Para finalizamos, setamos o array users na posição do índice que capturamos e atribuímos ao name, por fim retornarmos um json com o array users. Agora vamos testar usando a ferramente Insomnia.<\/p>\n<p><img src=\"/uploads/2020/01/editando-usuário-1024x301.jpg\" alt=\"\"><\/p>\n<p><strong>aplicação em Nodejs,<\/strong><\/p>\n<h3>Deletando usuário<\/h3>\n<pre><code>server<span class=\"token punctuation\">.<\/span><span class=\"token function\">delete<\/span><span class=\"token punctuation\">(<\/span><span class=\"token string\">'/users/:index'<\/span><span class=\"token punctuation\">,<\/span> <span class=\"token punctuation\">(<\/span><span class=\"token parameter\">req<span class=\"token punctuation\">,<\/span> res<\/span><span class=\"token punctuation\">)<\/span> <span class=\"token operator\">=><\/span> <span class=\"token punctuation\">{<\/span>\n    <span class=\"token keyword\">const<\/span> <span class=\"token punctuation\">{<\/span> index <span class=\"token punctuation\">}<\/span> <span class=\"token operator\">=<\/span> req<span class=\"token punctuation\">.<\/span>params\n\n    users<span class=\"token punctuation\">.<\/span><span class=\"token function\">splice<\/span><span class=\"token punctuation\">(<\/span>index<span class=\"token punctuation\">,<\/span> <span class=\"token number\">1<\/span><span class=\"token punctuation\">)<\/span>\n<span class=\"token punctuation\">}<\/span><span class=\"token punctuation\">)<\/span>\n<\/code><\/pre>\n<p>Para deleta usamos o método delete(), precisamos também identificar qual usuário deletar, então vamos usar a mesma estratégia do editar, capturando o índice do array, e ai usamos o método splice() basicamente ele percorre todo o array, vai chegar no índice que passamos, ele deleta a posição a partir do elemento encontrado.<\/p>\n<p><img src=\"/uploads/2020/01/Deletando-sucess-1024x564.jpg\" alt=\"\"><\/p>\n<p><strong>aplicação em Nodejs,<\/strong><\/p>\n<p>Nossa aplicação em NodeJS está pronta, estamos realizando as quatro tarefas básicas do CRUD são elas criar, listar, editar e deletar. Caso você queira clona o código, segue o link do repositório no GitHub <a href=\"https://github.com/alissonsuassuna/crud-nodejs\" target=\"_blank\" rel=\"noopener\">clique aqui<\/a>.<\/p>\n<p><a href=\"/programador-fullstack-8-semanas\"><img src=\"/uploads/2020/01/banner-Porgramador-full-stack-Javascript-1024x1024.png\" alt=\"\"><\/a><\/p>\n<h3>Se torne um desenvolvedor FULL STACK em apenas 8 SEMANAS<\/h3>\n<p>O maior treinamento online de JAVASCRIPT voltado 100% para o MERCADO DE TRABALHO. Você vai aprender JavaScript, Lógica de Programação, HTML5, CSS3, Bulma, NodeJs, Express, React, Git, Github.<\/p>\n<p><a href=\"/programador-fullstack-8-semanas\">Quero Participar<\/a><\/p>\n","date":"2020-01-07T00:00:00.000Z","readingTime":13,"title":"Criando uma aplicação em Nodejs","categories":["artigos"],"tags":["aplicacao-em-node","nodejs"],"description":"Fala dev, tudo bem? Neste artigo vamos criar nossa primeira aplicação em Nodejs, então sem mais conversa bora coda?","imgArticle":"/thumbnail-article/criando-app-nodejs.png","imgHome":"/thumbnail-home/criando-app-nodejs.png"},"n-0-0-12-0-0":{"expanded":false},"n-0-0-12-0-0-0-0-0-0-1-0":{}};
      window.environment = {"client":false,"server":true,"development":false,"production":true,"mode":"ssg","key":"bbc498a4b48831429fa1bccbe8003a874907e0d6"};
      window.settings = {};
      window.worker = {"enabled":true,"fetching":false,"preload":[],"headers":{},"api":"","cdn":"","protocol":"https","queues":{},"online":true,"responsive":true};
      window.params = {"slug":"criando-uma-aplicacao-em-nodejs"};
      window.project = {"domain":"tipscode.com.br","name":"TipsCode","color":"#D22365","type":"website","display":"standalone","orientation":"portrait","scope":"/","root":"/","sitemap":true,"favicon":"/favicon-96x96.png","disallow":[],"icons":{"72":"/icon-72x72.png","96":"/icon-96x96.png","128":"/icon-128x128.png","144":"/icon-144x144.png","152":"/icon-152x152.png","180":"/icon-180x180.png","192":"/icon-192x192.png","384":"/icon-384x384.png","512":"/icon-512x512.png"}};
      window.context = {};
      document.addEventListener('DOMContentLoaded', () => {
        const script = window.document.createElement('script');
        script.src = '/nullstack/bbc498a4b48831429fa1bccbe8003a874907e0d6/client.js';
        script.integrity = '';
        script.crossOrigin = 'anonymous';
        document.body.append(script);
      });
    </script>
  </body>
</html>